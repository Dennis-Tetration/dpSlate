<!--DO NOT EDIT THIS FILE. This HTML file is generated from Markdown that can be found in /dpslate/source-->

<% if File.exists? ('source/defaults.yml') %>
    <% defaults = YAML.load_file('source/defaults.yml') %>
<% else %>
    <% defaults = {} %>
<% end %>    

<% !defaults["title"].nil? ? title = defaults["title"] : title = "" %>
<% !defaults["version"].nil? ? version = defaults["version"] : version = "" %> 
<% !defaults["copyright"].nil? ? copyright = defaults["copyright"] : copyright = "" %>
<% !defaults["publisher"].nil? ? publisher = defaults["publisher"] : publisher = "" %>
<% !defaults["publisherAddress"].nil? ? publisherAddress = defaults["publisherAddress"] : publisherAddress = "" %>
<% !defaults["comments"].nil? ? comments = defaults["comments"] : comments = "" %>
<% !defaults["titlePage"].nil? ? titlePage = defaults["titlePage"] : titlePage = true %>
<% !defaults["ableOfContents"].nil? ? tableOfContents = defaults["tableOfContents"] : tableOfContents = true %> 
<% !defaults["tocAccordion"].nil? ? tocAccordion = defaults["tocAccordion"] : tocAccordion = true %>
<% !defaults["rightPanel"].nil? ? rightPanel = defaults["rightPanel"] : rightPanel = true %>
<% !defaults["leftPanel"].nil? ? leftPanel = defaults["leftPanel"] : leftPanel = true %>
<% !defaults["documentSearch"].nil? ? documentSearch = defaults["documentSearch"] : documentSearch = true %>
<% !defaults["languageTabs"].nil? ? languageTabs = defaults["languageTabs"] : languageTabs = [ {'default' => "Default"} ] %>
<% !defaults["tocSelectors"].nil? ? tocSelectors = defaults["tocSelectors"] : tocSelectors = "h1,h2,h3" %>
<% !defaults["tocFooters"].nil? ? tocFooters = defaults["tocFooters"] : tocFooters = [] %>

<%# load the default directives in the Markdown file %>
<% !current_page.data.title.nil? ? title = current_page.data.title : title=title %>
<% !current_page.data.version.nil? ? version = current_page.data.version : version=version %> 
<% !current_page.data.copyright.nil? ? copyright = current_page.data.copyright :  copyright=copyright%>
<% !current_page.data.publisher.nil? ? publisher = current_page.data.publisher :  publisher=publisher %>
<% !current_page.data.publisherAddress.nil? ? publisherAddress = current_page.data.publisherAddress : publisherAddress=publisherAddress%>
<% !current_page.data.comments.nil? ? comments = current_page.data.comments :  comments=comments%>
<% !current_page.data.titlePage.nil? ? titlePage = current_page.data.titlePage : titlePage=titlePage%>
<% !current_page.data.tableOfContents.nil? ? tableOfContents = current_page.data.tableOfContents :  tableOfContents = tableOfContents%> 
<% !current_page.data.tocAccordion.nil? ? tocAccordion = current_page.data.tocAccordion :  tocAccordion=tocAccordion %>
<% !current_page.data.rightPanel.nil? ? rightPanel = current_page.data.rightPanel :  rightPanel=rightPanel%>
<% !current_page.data.leftPanel.nil? ? leftPanel = current_page.data.leftPanel :  leftPanel=leftPanel %>
<% !current_page.data.documentSearch.nil? ? documentSearch = current_page.data.documentSearch : documentSearch=documentSearch %>
<% !current_page.data.languageTabs.nil? ? languageTabs = current_page.data.languageTabs : languageTabs=languageTabs%>
<% !current_page.data.tocSelectors.nil? ? tocSelectors = current_page.data.tocSelectors : tocSelectors=tocSelectors%>
<% !current_page.data.tocFooters.nil? ? tocFooters = current_page.data.tocFooters : tocFooters=tocFooters%>


<!doctype html>
<html>
    
  <head>   
    <!-- get Bootstrap from CDN -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <%= stylesheet_link_tag :screen, media: :screen %>
    <%= stylesheet_link_tag :print, media: :print %>
    <% if !leftPanel %>
      <%= stylesheet_link_tag :inlinetoc_screen, media: :screen %>
      <%= stylesheet_link_tag :inlinecode_screen, media: :screen %>
      <% languageTabs = [] %>
    <% end %>
    <% if !rightPanel %>
      <%= stylesheet_link_tag :inlinecode_screen, media: :screen %>
      <% languageTabs = [] %>
    <% end %>
    
    <style>
      <%= Rouge::Themes::Base16::Monokai.render(:scope => '.highlight') %>
    </style>
      
  </head>

  <body class="<%= page_classes %>" data-languages="<%= languageTabs.map{ |lang| lang.is_a?(Hash) ? lang.keys.first : lang }.to_json %>">
  <div id="slateWrapper">
      <a href="#" id="nav-button">
      <span>
        NAV
        <%= image_tag('navbar.png') %>
      </span>
    </a>
      
      
    <div class="tocify-wrapper">
      <% if languageTabs %>
        <div class="lang-selector">
          <% languageTabs.each do |lang| %>
            <% if lang.is_a? Hash %>
              <a href="#" data-language-name="<%= lang.keys.first %>"><%= lang.values.first %></a>
            <% else %>
              <a href="#" data-language-name="<%= lang %>"><%= lang %></a>
            <% end %>
          <% end %>
        </div>
      <% end %>   
      <% if tableOfContents %>
        <% if titlePage %>
          <div class=toc-header>
            <div class=doc-title><%= title %></div>
            <div class="about">
              <div class="about-control"><span>about</span></div>
              <div class="title-page">
                <ul>
                <% if title %>
                  <li><strong><i>Title: </i></strong><%= title %> </li>
                <% end %>
                <% if version %>
                  <li><strong><i>Version: </i></strong><%= version %></li>
                <% end %>
                <% if copyright %>
                  <li><strong><i>Copyright: </i></strong><%= copyright %></li>
                <% end %>
                <% if publisher %>
                  <li><strong><i>Publisher: </i></strong><%= publisher %></li>
                <% end %>
                <% if publisherAddress %>
                  <li><strong><i>Publisher Address: </i></strong><%= publisherAddress %></li>
                <% end %>
                <% if comments %>
                  <li><strong><i>Comments: </i></strong><%= comments %></li>
                <% end %>
                  <li><strong><i>Published Date: </i></strong><%= datestring %></li>
                </ul>
              </div>
            </div>
          </div>

        <% end %>
        <% if documentSearch %>
          <div class="search">
            <input type="text" class="search" id="input-search" placeholder="Search Document">
            <ul class="search-results"></ul>
          </div>
        <% end %>
        <div class=toc-header>
          <div class=toc-title>Table of Contents</div>
        </div>
        <div id="toc">
        </div>
        <% if !tocFooters.blank? %>
          <div class="toc-footer">
            <ul class="toc-footer">
              <% tocFooters.each do |footer| %>
                <li><%= footer %></li>
              <% end %>
            </ul>
          </div>
        <% end %>
      <% end %>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <%= yield %>
        <% current_page.data.includes && current_page.data.includes.each do |include| %>
          <%= partial "includes/#{include}" %>
        <% end %>
      </div>
      <div class="dark-box">
        <% if languageTabs %>
          <div class="lang-selector">
            <% languageTabs.each_with_index do |lang, index| %>
              <% if index == 0 %>
                <% classValue = "class='active'" %>
              <% else %>
                <% classValue = "" %>
              <% end %>
              <% if lang.is_a? Hash %>
                <a href="#" data-language-name="<%= lang.keys.first %>" <%= classValue %> ><%= lang.values.first %></a>
              <% else %>
                <a href="#" data-language-name="<%= lang %>" <%= classValue %> ><%= lang %></a>
              <% end %>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
</div>      

<!-- Add all of the JavaScript at the end -->      

<%= javascript_include_tag "jquery.min" %>      
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>  
<%= javascript_include_tag  "energize" %>
<%= javascript_include_tag  "lang" %>
<% if documentSearch %>
  <%= javascript_include_tag  "lunr" %>
  <%= javascript_include_tag  "jquery.highlight" %>      
  <%= javascript_include_tag  "search" %>
<% end %>
<%= javascript_include_tag  "jquery_ui" %>
<% if tableOfContents %>      
  <%= javascript_include_tag  "jquery.tocify" %>
<% end %>      
<%= javascript_include_tag  "imagesloaded.min" %>

<!-- Configure the table of contents --> 
      
<% if tableOfContents %>
  <% if tocAccordion %>
    <style>
        .tocify-subheader {
            display: none;
        }  
    </style>
  <% end %>      
      
  <script>        
    (function (global) {
        'use strict';
          
        var closeToc = function() {
            $(".tocify-wrapper").removeClass('open');
            $("#nav-button").removeClass('open');
        };
        
        var makeToc = function() {
            global.toc = $("#toc").tocify({
              context: '.content',    
              selectors: "<%= tocSelectors || 'h1,h2,h3' %>",
              extendPage: false,
              theme: "none",
              smoothScroll: false,
              showAndHide: <%= tocAccordion %>,
              showEffect: "slideDown",
              showEffectSpeed: 180,
              hideEffect: "slideUp",
              hideEffectSpeed: 180,
              highlightOffset: 60,
              scrollTo: 50,
              scrollHistory: true,
              hashGenerator: function (text, element) {
                return element.prop('id');
              }
            }).data('toc-tocify');
        
            $("#nav-button").click(function() {
              $(".tocify-wrapper").toggleClass('open');
              $("#nav-button").toggleClass('open');
              return false;
            });
        
            $(".page-wrapper").click(closeToc);
            $(".tocify-item").click(closeToc);
          };
        
          // Hack to make already open sections to start opened,
          // instead of displaying an ugly animation
          function animate () {
            setTimeout(function() {
              toc.setOption('showEffectSpeed', 180);
            }, 50);
          }
        
          $(makeToc);
          $(animate);
    })(window);

  </script>
<% end %>  

<!-- Turn on the toggle for the Title Page -->
      
<% if titlePage %>      
  <script>      
    $(".about-control").click(function () {
        $(".title-page").slideToggle(500, function () {
            $(".about-control").text(function () {
                return $(".title-page").is(":visible") ? "hide" : "about";
            });
        });
    });
  </script>
<% end %> 

<!-- Configure the language tabs -->
      
<% if languageTabs %>
  <script>
    $(function() {
        setupLanguages(<%= languageTabs.map{ |lang| lang.is_a?(Hash) ? lang.keys.first : lang }.to_json %>);
    });
  </script>
<% end %>   
      
</body>
</html>

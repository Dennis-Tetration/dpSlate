<!--DO NOT EDIT THIS FILE. This HTML file is generated from Markdown that can be found in /dpslate/source-->

<% if File.exists? ('source/defaults.yml') %>
    <% defaults = YAML.load_file('source/defaults.yml') %>
<% else %>
    <% defaults = {} %>
<% end %>    

<% !defaults["title"].nil? ? title = defaults["title"] : title = "" %>
<% !defaults["version"].nil? ? version = defaults["version"] : version = "" %> 
<% !defaults["copyright"].nil? ? copyright = defaults["copyright"] : copyright = "" %>
<% !defaults["publisher"].nil? ? publisher = defaults["publisher"] : publisher = "" %>
<% !defaults["publisherAddress"].nil? ? publisherAddress = defaults["publisherAddress"] : publisherAddress = "" %>
<% !defaults["comments"].nil? ? comments = defaults["comments"] : comments = "" %>
<% !defaults["titlePage"].nil? ? titlePage = defaults["titlePage"] : titlePage = true %>
<% !defaults["ableOfContents"].nil? ? tableOfContents = defaults["tableOfContents"] : tableOfContents = true %> 
<% !defaults["tocAccordion"].nil? ? tocAccordion = defaults["tocAccordion"] : tocAccordion = true %>
<% !defaults["rightPanel"].nil? ? rightPanel = defaults["rightPanel"] : rightPanel = true %>
<% !defaults["leftPanel"].nil? ? leftPanel = defaults["leftPanel"] : leftPanel = true %>
<% !defaults["documentSearch"].nil? ? documentSearch = defaults["documentSearch"] : documentSearch = true %>
<% !defaults["languageTabs"].nil? ? languageTabs = defaults["languageTabs"] : languageTabs = [ {'default' => "Default"} ] %>
<% !defaults["tocSelectors"].nil? ? tocSelectors = defaults["tocSelectors"] : tocSelectors = "h1,h2,h3" %>
<% !defaults["tocFooters"].nil? ? tocFooters = defaults["tocFooters"] : tocFooters = [] %>

<%# load the default directives in the Markdown file %>
<% !current_page.data.title.nil? ? title = current_page.data.title : title=title %>
<% !current_page.data.version.nil? ? version = current_page.data.version : version=version %> 
<% !current_page.data.copyright.nil? ? copyright = current_page.data.copyright :  copyright=copyright%>
<% !current_page.data.publisher.nil? ? publisher = current_page.data.publisher :  publisher=publisher %>
<% !current_page.data.publisherAddress.nil? ? publisherAddress = current_page.data.publisherAddress : publisherAddress=publisherAddress%>
<% !current_page.data.comments.nil? ? comments = current_page.data.comments :  comments=comments%>
<% !current_page.data.titlePage.nil? ? titlePage = current_page.data.titlePage : titlePage=titlePage%>
<% !current_page.data.tableOfContents.nil? ? tableOfContents = current_page.data.tableOfContents :  tableOfContents = tableOfContents%> 
<% !current_page.data.tocAccordion.nil? ? tocAccordion = current_page.data.tocAccordion :  tocAccordion=tocAccordion %>
<% !current_page.data.rightPanel.nil? ? rightPanel = current_page.data.rightPanel :  rightPanel=rightPanel%>
<% !current_page.data.leftPanel.nil? ? leftPanel = current_page.data.leftPanel :  leftPanel=leftPanel %>
<% !current_page.data.documentSearch.nil? ? documentSearch = current_page.data.documentSearch : documentSearch=documentSearch %>
<% !current_page.data.languageTabs.nil? ? languageTabs = current_page.data.languageTabs : languageTabs=languageTabs%>
<% !current_page.data.tocSelectors.nil? ? tocSelectors = current_page.data.tocSelectors : tocSelectors=tocSelectors%>
<% !current_page.data.tocFooters.nil? ? tocFooters = current_page.data.tocFooters : tocFooters=tocFooters%>


<!doctype html>
<html>
    
  <head> 

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <%= stylesheet_link_tag 'bootstrap.min', media: :screen %>
    <%= stylesheet_link_tag :screen, media: :screen %>
    <% if tableOfContents %> 
    <%= stylesheet_link_tag 'tocbot', media: :screen %>
    <% end %>
    <%= stylesheet_link_tag :print, media: :print %>

    <% if !leftPanel %>       
      <%= stylesheet_link_tag :inlinecode_screen, media: :screen %>
      <% languageTabs = [] %>
      <% tocAccordion = false %>  
    <% end %>
    <% if !rightPanel %>
      <%= stylesheet_link_tag :inlinecode_screen, media: :screen %>
      <% languageTabs = [] %>
    <% end %> 
    <style>
      <%= Rouge::Themes::Base16::Monokai.render(:scope => '.highlight') %>
    </style>
  </head>

  <body class="<%= page_classes %>" 
        data-languages="<%= languageTabs.map{ |lang| lang.is_a?(Hash) ? lang.keys.first : lang }.to_json %>">

 <div class="container-fluid slate-fluid">     
   <!-- Example row of columns -->
      <div class="row-fluid slate-fluid">      

        <div id="slateWrapper">   
            
           <div class="span3 <% if !leftPanel %> col-xs-12 <% else %>col-xs-12 col-md-3<% end %>">  

            <div id="toc">


            <% if tableOfContents %>

              <% if titlePage %>

                <div class=toc-header>

                  <div class=doc-title><%= title %></div>

                  <!-- going to make this a bootstrap modal -->
                  <div class="about" style="display:none;"> 

                    <div class="about-control"><span>about</span></div>
                    <div class="title-page">
                      <ul>
                      <% if title %>
                        <li><strong><i>Title: </i></strong><%= title %> </li>
                      <% end %>
                      <% if version %>
                        <li><strong><i>Version: </i></strong><%= version %></li>
                      <% end %>
                      <% if copyright %>
                        <li><strong><i>Copyright: </i></strong><%= copyright %></li>
                      <% end %>
                      <% if publisher %>
                        <li><strong><i>Publisher: </i></strong><%= publisher %></li>
                      <% end %>
                      <% if publisherAddress %>
                        <li><strong><i>Publisher Address: </i></strong><%= publisherAddress %></li>
                      <% end %>
                      <% if comments %>
                        <li><strong><i>Comments: </i></strong><%= comments %></li>
                      <% end %>
                        <li><strong><i>Published Date: </i></strong><%= datestring %></li>
                      </ul>
                    </div>
                  </div>

                </div>

              <% end %>
              <% if documentSearch %>
                <div class="search">
                  <input type="text" class="search" id="input-search" placeholder="Search Document">
                  <ul class="search-results"></ul>
                </div>
              <% end %>
              <div class=toc-header>
                <div class=toc-title>Table of Contents</div>
              </div>

              <div class="toc js-toc"> </div>

              <% if !tocFooters.blank? %>
                <div class="toc-footer">
                  <ul class="toc-footer">
                    <% tocFooters.each do |footer| %>
                      <li><%= footer %></li>
                    <% end %>
                  </ul>
                </div>
              <% end %>
            <% end %>
          </div>
        </div>    

        <div class="span9 col-xs-12 col-md-9"> 
          
          <div class="page-wrapper">

            <div class="dark-box"></div>

            <div class="content">
              <%= yield %>
              <% current_page.data.includes && current_page.data.includes.each do |include| %>
                <%= partial "includes/#{include}" %>
              <% end %>
            </div>

            <div class="dark-box">
              <% if languageTabs %>
                <div class="lang-selector" id="myLang">
                  <% languageTabs.each_with_index do |lang, index| %>
                    <% if index == 0 %>
                      <% classValue = "class='active'" %>
                    <% else %>
                      <% classValue = "" %>
                    <% end %>
                    <% if lang.is_a? Hash %>
                      <a href="#" data-language-name="<%= lang.keys.first %>" <%= classValue %> ><%= lang.values.first %></a>
                    <% else %>
                      <a href="#" data-language-name="<%= lang %>" <%= classValue %> ><%= lang %></a>
                    <% end %>
                  <% end %>
                </div>
              <% end %>
            </div>

          </div>

         </div>

        </div>   

      </div>

  </div>   

<!-- Add all of the JavaScript at the end -->      

<%= javascript_include_tag "jquery.min" %>   
<%= javascript_include_tag "bootstrap.min" %>    
<%= javascript_include_tag  "energize" %>
<%= javascript_include_tag  "lang" %>
<%= javascript_include_tag "jquery-scrolltofixed-min" %>  
<% if documentSearch %>
  <%= javascript_include_tag  "lunr" %>
  <%= javascript_include_tag  "jquery.highlight" %>      
  <%= javascript_include_tag  "search" %>
<% end %>
 
<% if tableOfContents %>      
  <%= javascript_include_tag  "tocbot.min" %>
<% end %>      
<%= javascript_include_tag  "imagesloaded.min" %>

<!-- Configure the table of contents --> 
      
<% if tableOfContents %> 
      
  <script>        
 
  
    tocbot.init({
      tocSelector: '.js-toc',
      contentSelector: '.content',
      headingSelector: 'h1, h2, h3',
      positionFixedSelector: '#toc',
      collapseDepth: 0,
    }); 

  </script>

<% end %>  

<!-- Turn on the toggle for the Title Page -->
      
<% if titlePage %>      
  <script>      
    //add js to do about modal here:

  </script>
<% end %> 

<!-- Configure the language tabs -->
      
<% if languageTabs %>
  <script>
    $(function() {
        setupLanguages(<%= languageTabs.map{ |lang| lang.is_a?(Hash) ? lang.keys.first : lang }.to_json %>);
    }); 

   $('#myLang').scrollToFixed({marginTop: 0,
      preFixed: function() {},
      postFixed: function() {}
    });

  </script>
<% end %>   
      
</body>
</html>

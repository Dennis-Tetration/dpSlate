<!--DO NOT EDIT THIS FILE. This HTML file is generated from Markdown that can be found in /dpslate/source-->





<!doctype html>
<html>
    
  <head> 

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="/dpSlateStatic/css/bootstrap.min.css" rel="stylesheet" media="screen" />
    <link href="/dpSlateStatic/css/screen.css" rel="stylesheet" media="screen" />
    <link href="/dpSlateStatic/css/tocbot.css" rel="stylesheet" media="screen" />
    <link href="/dpSlateStatic/css/print.css" rel="stylesheet" media="print" />

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
  </head>

  <body class="dpSlateHelp dpSlateHelp_index" 
        data-languages="["shell","python","ruby"]">

 <div class="container-fluid slate-fluid">     
   <!-- Example row of columns -->
      <div class="row-fluid slate-fluid">      

        <div id="slateWrapper">   
            
           <div class="span3 col-xs-12 col-md-3">  

            <div id="toc">




                <div class=toc-header>

                  <div class=doc-title>dpSlate User's Guide</div>

                  <!-- Button trigger modal -->
                  <button type="button" class="btn btn-primary btn-xs" data-toggle="modal" data-target="#myModal">
                    Title Page
                  </button>  

                </div>

                <div class="search">
                  <input type="text" class="search" id="input-search" placeholder="Search Document">
                  <ul class="search-results invisible"></ul>
                </div>
              <div class=toc-header>
                <div class=toc-title>Table of Contents</div>
              </div>

              <div class="toc js-toc"> </div>

          </div>
        </div>    

        <div class="span9 col-xs-12 col-md-9"> 
          
          <div class="page-wrapper">

            <div class="dark-box"></div>

            <div class="content">
              <h1 id="introduction-1">Introduction</h1>
<p>dpSlate is an HTML authoring tool that help authors more effectively communicate to an audience.  Originally designed specifically to author API reference manuals, it has been expanded to create a much wider selection of documents.  As a result of enhancements to dpSlate, it can now be used to create many different types of documents including:</p>

<ul>
<li>Overviews</li>
<li>Getting Started Guides</li>
<li>Tutorials</li>
<li>Technical Reference Manuals</li>
<li>Sample Apps</li>
</ul>

<p>To accommodate the need to deal with different types of documents, dpSlate allows the document author to control the structure of how the document will be formatted.  Each dpSlate document can have up to three different panels that the author can turn on or off as required:</p>

<ul>
<li><p><em>Left Hand Panel</em> - used for document meta-data such as a title page, document search, and table of contents.</p></li>
<li><p><em>Center Panel</em> - used for the contents of the document.</p></li>
<li><p><em>Right Hand Panel</em> used for code samples and other technical reference materials. </p></li>
</ul>
<h2 id="document-with-left-and-right-panel-turned-on-2">Document with Left and Right Panel Turned On</h2>
<blockquote>
<p>dpSlate Document with all three panels on</p>

<p><img alt="dpSlate with Three Panels" src="/dpSlateStatic/images/dpslate/threePanel.png" /></p>
</blockquote>

<p>When all three panels are turned on, the dpSlate document will look as shown.  The three panels are for the document meta-data (left), body of the document, and supporting materials to the right.</p>
<h2 id="document-with-right-panel-turned-off-3">Document with Right Panel Turned Off</h2>
<blockquote>
<p>dpSlate Document with two panels on</p>

<p><img alt="dpSlate with Two Panels" src="/dpSlateStatic/images/dpslate/twoPanel.png" /></p>
</blockquote>

<p>When the right panel is turned off, the supporting materials that were in the right hand panel are not brought into the center panel at the appropriate place.  The left hand panel is not imacted.</p>
<h2 id="document-with-the-left-panel-turned-off-4">Document with the Left Panel Turned Off</h2>
<blockquote>
<p>dpSlate Document with one panel on</p>

<p><img alt="dpSlate with One Panels" src="/dpSlateStatic/images/dpslate/onePanel.png" />.</p>
</blockquote>

<p>Finally, when the left hand panel is turned off, the document becomes a single column document with the meta-data at the top and the body of the document below.  </p>

<aside class="notice">
When the Left Hand Panel is turned off, the Right Hand Panel will also be turned off at the same time.
</aside>
<h1 id="getting-started-with-dpslate-5">Getting Started with dpSlate</h1>
<p>dpSlate can be used either stand alone on a PC or can be used to automatically publish documents to your portal if it is powered by dpEngine.  When you use dpSlate, you need to determine if you want to work in <em>Stand Alone Mode</em> or <em>dpEngine Mode</em>.  </p>
<h2 id="installing-and-using-dpslate-in-stand-alone-mode-6">Installing and Using dpSlate in Stand Alone Mode</h2>
<blockquote>
<p>What Version of Ruby is Installed?</p>
</blockquote>
<pre class="highlight markdown"><code>$ ruby -v

ruby 2.0.0p247 (2013-06-27 revision 41674)

</code></pre>

<blockquote>
<p>Install the Dependencies</p>
</blockquote>
<pre class="highlight markdown"><code>$ cd dpSlate
$ bundle install
</code></pre>

<blockquote>
<p>Start Your Test Server</p>
</blockquote>
<pre class="highlight markdown"><code>$ bundle exec middleman server
== The Middleman is loading
== The Middleman is standing watch at http://0.0.0.0:4567
== Inspect your site configuration at http://0.0.0.0:4567/__middleman/

</code></pre>

<ol>
<li>Login to Github and fork this repository on Github (https://github.com/pnerger/dpSlate)</li>
<li>Clone <em>your forked repository</em> (not our original one) to your hard drive with <code>git clone https://github.com/{YOURUSERNAME}/dpSlate.git</code></li>
<li><code>cd dpSlate</code></li>
<li>Install all dependencies: <code>bundle install</code></li>
<li>Start the test server: <code>bundle exec middleman server</code></li>
</ol>

<p><strong><em>OR</em></strong></p>

<ol>
<li>Login to Github and download the dpSlate Zip file (https://github.com/pnerger/dpSlate)</li>
<li>unzip the zip file into the directory that you want to work in.</li>
<li>cd to that directory.</li>
<li>Install all dependencies: <code>bundle install</code></li>
<li>Start the test server: <code>bundle exec middleman server</code></li>
</ol>

<p>You can now see the docs using your browser at <a href="http://localhost:4567">http://localhost:4567</a>. And as you edit and save your <code>source/index.md</code>, your server should automatically update! Whoa! That was fast!</p>
<h2 id="using-dpslate-with-dpengine-7">Using dpSlate with dpEngine</h2>
<blockquote>
<p>dpSlate directory structure in Bitbucket</p>
</blockquote>
<pre class="highlight plaintext"><code>\dpSlate
    \source
        _defaults.yml - this file contains your site defaults for YAML directives
        \site
            \xyz
                \abc
                index.md - this is your source document
        \dpSlateStatic
            \images
                 \xyz
                    \abc
                       image1.png - these are your images for your document
            \css
            \data
            \fonts
            \includes
                \xyz
                    \abc
                        _partial1.md - these are your partials for inclusion into your document

\site
    \xyz
        \abc
            index.gsp - this is your formatted document for your portal
    \dpSlateStatic
        \images
             \xyz
                \abc
                    image1.png - these are your compressed images
        \css
        \data
        \fonts

</code></pre>

<p>If you have a portal that is powered by dpEngine, there is nothing to install for dpSlate works automatically with dpEngine.  </p>

<p>When you use dpEngine, your web portal content is stored in a version of Git called Bitbucket.  You will be provided with access to Bitbucket for your portal&#39;s repository.  Your portal will contain a number of folders that in turn contain the documents that will be published to your portal. </p>

<p>When you create a GFM markdown file in \dpslate\site\source the markdown will automatically be converted into dpSlate HTML and placed in the shadow directory in the \dpslate\site\build folder.  Additionally, a shadow directory will be created in \site that will contain a <code>.gsp</code> file that is used by dpEngine to place headers and foooters into the document and to control access to the web page.</p>

<p>The images that you include into your dpSlate markdown document will be stored in the \dpslate\source\images directory.  Once they are here, they will be automatically managed by dpSlate and dpEngine.  We recommend that you also use the additional directory structure for images as you do with your source file to help you better manage your images.</p>

<p>As mentioned earlier, when you use dpEngine, there is no need to install dpSlate, it is part of your dpEngine environment. </p>
<h3 id="editing-a-dpslate-dpengine-document-8">Editing a dpSlate/dpEngine Document</h3>
<p>There are two ways to edit the Markdown for a dpSlate document hosted in dpEngine; you can either edit it locally using Git or you can edit it inside Bitbucket using a web browser.</p>

<p>When you edit the document locally, you will need to find the document markdown source in the \dpslate\source folder tree in your local Git repository.  After you are done with the edit, you will commit and push the document to your dpEngine stage branch.  Your Bitbucket server will automatically build the HTML instance of the document and it will be accessible in the staging environment for your portal.  You can use any of hundreds of different markdown editors to edit your dpSlate source documents.</p>

<p>The second method is to view the document using your browser in the staging environment.  If you are an authorized <em>Author</em> or <em>Editor</em> for the document, you will see the following buttons on the document:</p>

<ul>
<li><em>Edit</em> - allows you to change the document.  When you press the <code>edit</code> button, a Markdown editor will open in your browser with the corresponding dpSlate document loaded.  You simply change your markdown file and when you save it, your document will be converted and your browser will display the recently edited document.</li>
<li><em>Images</em> - allows you to manage the images in the dpslate image folder for use within your markdown document.  You can upload or delete images.</li>
<li><em>Publish</em> - allows you to publish your new document to your production environment.  The <em>Publish</em> button is only available to those with the <em>Editor</em> role.</li>
</ul>
<h1 id="how-dpslate-works-9">How dpSlate Works</h1>
<p>When used in <em>Stand Alone Mode</em>, dpSlate generates HTML documents from Github Flavored Markdown (GFM), a particular dialect of Markdown.  When used in <em>dpEngine Mode</em>, dpSlate generates GSP documents from the GFM Markdown in a particular format that dpEngine wants. dpSlate software is written in Ruby and takes advantage of some popular Ruby software including Middleman, RedCarpet, and Rouge.  The dpSlate software reads a .md (markdown) source-file and will output a .html file along with the accompanying Javascript and CSS files.</p>

<p>To get a consistent look and feel to your web documentation, you will want your  authors to use the GFM tags in a particular to we get a common and consistent look and feel.</p>
<h2 id="structure-of-a-dpslate-document-10">Structure of a dpSlate Document</h2>
<p>As you look at this document, you will notice that there are a couple of feature.  First, to the left is the Table of Contents area.  Next, in the center is the Body of the document, and to the Right (in the dark area) are code examples.  Each of these elements have the following characteristics:</p>
<h3 id="table-of-contents-11">Table of Contents</h3>
<p>The TOC panel on the left hand side of the panel is composed of the following elements starting at the top and moving to the bottom:</p>

<ul>
<li><em>Title Page</em> - At the very top, is the title of the document.  If you&#39;ve enabled the Title Page function, then an <em>about</em> link will be created and when clicked it will open up a title page and provide more information about the document.</li>
<li><em>Search Box</em> - If search is enabled, a Search Box will appear above the Table of Contents.  The Search Box is used to search the document looking for phrases of interest.  The phrases are then highlighted in the Table of Contents.</li>
<li><em>The Table of Contents</em> - The Table of Contents are automatically built if the feature has been turned on.  By default, on the H1 is normally displayed.  If a user selects a H1 item, the TOC will expand to display the H2 items underneath it.  If the user selects a H2 item, the TOC will expand to display the H3 items underneath it.  Directives are used to control the table of contents.</li>
<li><em>The TOC Footer</em> - you can use this to store information at the bottom of the table of contents.</li>
</ul>
<h3 id="document-body-12">Document Body</h3>
<p>The body of the document is found in the center panel and contains the main textual description of the API.  It uses a number of different elements and features to communicate what the API actually does and these include:</p>

<ul>
<li>Headers - these are titles of document section of which the H1 and H2 will automatically appear in the TOC</li>
<li>Paragraphs - these are simple paragraphs of text</li>
<li>Bold Text</li>
<li>Italicized Text</li>
<li>Inline Code Text</li>
<li>Tables</li>
<li>Bullet Lists</li>
<li>Number Lists</li>
<li>Hints - These are Green Highlighted Text</li>
<li>Warnings - These are Red Highlighted Text</li>
<li>Notes - These are Blue Highlighted Text</li>
<li>Links - HTML hyperlinks to external documents</li>
</ul>
<h3 id="code-samples-13">Code Samples</h3>
<p>The key part of the dpSlate format for API documentation is that code samples can be viewed alongside of the API call that they illustrate.  Further sample code can be held simultaneously in several different programming languages (important for SOAP and REST API&#39;s).  Because programmers tend to only work in a single language at a time, the dpSlate format accommodates this by having the programming language as a tab on the far right panel.  Thus, the developer is able to choose a programming language and then use the documentation in that language without being distracted by any other language.</p>

<p>Sample code is anchored to either the H1 or H2 heading that they are inserted under; that is, they are placed under the Heading and will move up or down with the main text body. Code samples have the following elements that are used to control their placement:</p>

<ul>
<li>Language - there is a tab for each language that is supported and specified in the header.<br></li>
<li>Code Annotations - these are highlighted areas that are not code but used to point out a code section.</li>
<li>Shared Code Samples - it is possible to make code that appears in all of the tabs.</li>
</ul>

<aside class="notice">
The default behavior is to place code samples into a dedicated right-hand panel.  However, you can also turn off the right-hand panel and the code samples will appear inline with the text in the main panel of the document.
</aside>
  
<h1 id="specifying-your-document-directives-14">Specifying Your Document Directives</h1>
<blockquote>
<p>Directives for this Document</p>
</blockquote>
<pre class="highlight markdown"><code><span class="nn">---</span>
<span class="s">title</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Authoring</span><span class="nv"> </span><span class="s">Documents</span><span class="nv"> </span><span class="s">dpSlate"</span>

<span class="s">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">V4.1"</span> 

<span class="s">copyright</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Copyright</span><span class="nv"> </span><span class="s">&amp;copy;</span><span class="nv"> </span><span class="s">2013-2015</span><span class="nv"> </span><span class="s">Perigee</span><span class="nv"> </span><span class="s">Capital,</span><span class="nv"> </span><span class="s">LLC.,</span><span class="nv"> </span><span class="s">Portions</span><span class="nv"> </span><span class="s">Copyright</span><span class="nv"> </span><span class="s">2008-2013</span><span class="nv"> </span><span class="s">by</span><span class="nv"> </span><span class="s">Concur</span><span class="nv"> </span><span class="s">Technologies,</span><span class="nv"> </span><span class="s">Inc.</span><span class="nv"> </span><span class="s">All</span><span class="nv"> </span><span class="s">Rights</span><span class="nv"> </span><span class="s">Reserved."</span>

<span class="s">publisher</span><span class="pi">:</span> <span class="s2">"</span><span class="s">DeveloperProgram.com"</span>

<span class="s">publisherAddress</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Perigee</span><span class="nv"> </span><span class="s">Capital</span><span class="nv"> </span><span class="s">LLC.,</span><span class="nv"> </span><span class="s">2300</span><span class="nv"> </span><span class="s">Greenhill</span><span class="nv"> </span><span class="s">Drive,</span><span class="nv"> </span><span class="s">Suite</span><span class="nv"> </span><span class="s">400,</span><span class="nv"> </span><span class="s">Round</span><span class="nv"> </span><span class="s">Rock,</span><span class="nv"> </span><span class="s">TX</span><span class="nv"> </span><span class="s">78664,</span><span class="nv"> </span><span class="s">USA"</span>

<span class="s">comments</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dpSlate</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">Licensed</span><span class="nv"> </span><span class="s">under</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">Apache</span><span class="nv"> </span><span class="s">License,</span><span class="nv"> </span><span class="s">Version</span><span class="nv"> </span><span class="s">2.0</span><span class="nv"> </span><span class="s">(the</span><span class="nv"> </span><span class="s">License);</span><span class="nv"> </span><span class="s">you</span><span class="nv"> </span><span class="s">may</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">use</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">file</span><span class="nv"> </span><span class="s">except</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">compliance</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">License.</span><span class="nv"> </span><span class="s">You</span><span class="nv"> </span><span class="s">may</span><span class="nv"> </span><span class="s">obtain</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">copy</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">License</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">site</span><span class="nv"> </span><span class="s">http://www.apache.org</span><span class="nv"> </span><span class="s">at</span><span class="nv"> </span><span class="s">/licenses/LICENSE-2.0.</span><span class="nv">  </span><span class="s">Unless</span><span class="nv"> </span><span class="s">required</span><span class="nv"> </span><span class="s">by</span><span class="nv"> </span><span class="s">applicable</span><span class="nv"> </span><span class="s">law</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">agreed</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">writing,</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">dpSlate</span><span class="nv"> </span><span class="s">software</span><span class="nv"> </span><span class="s">distributed</span><span class="nv"> </span><span class="s">under</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">License</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">distributed</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">an</span><span class="nv"> </span><span class="s">AS</span><span class="nv"> </span><span class="s">IS</span><span class="nv"> </span><span class="s">BASIS,</span><span class="nv"> </span><span class="s">WITHOUT</span><span class="nv"> </span><span class="s">WARRANTIES</span><span class="nv"> </span><span class="s">OR</span><span class="nv"> </span><span class="s">CONDITIONS</span><span class="nv"> </span><span class="s">OF</span><span class="nv"> </span><span class="s">ANY</span><span class="nv"> </span><span class="s">KIND,</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">express</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">implied.</span><span class="nv"> </span><span class="s">See</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">License</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">specific</span><span class="nv"> </span><span class="s">language</span><span class="nv"> </span><span class="s">governing</span><span class="nv"> </span><span class="s">permissions</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">limitations</span><span class="nv"> </span><span class="s">under</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">License.</span><span class="nv">  </span><span class="s">The</span><span class="nv"> </span><span class="s">Perigee</span><span class="nv"> </span><span class="s">Capital,</span><span class="nv"> </span><span class="s">DevelopProgram.com,</span><span class="nv"> </span><span class="s">DP.com,</span><span class="nv"> </span><span class="s">dpSlate,</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">dp.com</span><span class="nv"> </span><span class="s">Logo</span><span class="nv"> </span><span class="s">are</span><span class="nv"> </span><span class="s">trademarks</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">Perigee</span><span class="nv"> </span><span class="s">Capital,</span><span class="nv"> </span><span class="s">LLC."</span>

<span class="s">titlePage</span><span class="pi">:</span> <span class="s">ON</span>

<span class="s">tableOfContents</span><span class="pi">:</span> <span class="s">ON</span>

<span class="s">tocAccordion</span><span class="pi">:</span> <span class="s">1</span>

<span class="s">rightPanel</span><span class="pi">:</span> <span class="s">ON</span>

<span class="s">leftPanel</span><span class="pi">:</span> <span class="s">ON</span>

<span class="s">documentSearch</span><span class="pi">:</span> <span class="s">ON</span>

<span class="s">languageTabs</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">shell</span><span class="pi">:</span> <span class="s">Sample</span>
  <span class="pi">-</span> <span class="s">python</span><span class="pi">:</span> <span class="s">Python</span>
  <span class="pi">-</span> <span class="s">ruby</span><span class="pi">:</span> <span class="s">Ruby</span>

<span class="s">tocSelectors</span><span class="pi">:</span> <span class="s2">"</span><span class="s">h1,h2,h3"</span>

<span class="nn">---</span>
</code></pre>

<p>A GitHub Flavored Markdown (GFM) source document is used to generate each of the dpSlate Documents that are presented on the portal.  Each dpSlate GFM source document is a plain text document that starts with a Yet Another Markup Language (YAML) header that contains directives used to control how the document will be formatted.  The YAML header starts and ends with a line that has three dashes, <code>---</code>, that start in the first column of the line.</p>

<p>The YAML header contains directives that control how the document will look and appear when it is converted to HTML.  The directives consist of a YAML variable name, the directive, followed by a <code>:</code>.  There are four types of YAML variables:</p>

<ul>
<li><p><em>Boolean</em> - booleans variables are used to turn things on or off using various keywords to represent true or false.  YAML is flexible and the values for true and false are anything that kinda looks like a true or false.  For example true can be represented by <code>T, TRUE, Y, Yes, or ON</code> independent of case while the values for false are similar and can be represented by <code>F, FALSE, N, NO, or OFF</code> regardless of case.</p></li>
<li><p><em>String</em> - a string is either a string of text or quoted text.  Text can be quoted either by a double, <code>&quot;</code>, or single, <code>&#39;</code>, quotation mark.  Boolean keywords that are not in quotes might be interpreted as a boolean directive.</p></li>
<li><p><em>List</em> -  a list is a collection of items.  The items in the list are strings that are also know as a “hash” or a “dictionary”.  Directives that are lists consist of the directive followed by a number of lines that are indented and start with a dash, <code>-</code>, followed by a space. </p></li>
<li><p><em>Integer</em> - a numerical value.</p></li>
</ul>

<p>The valid dpSlate YAML document directives include:</p>
<h2 id="document-panels-15">Document Panels</h2>
<p>A dpSlate document is made up of up to three panels which are turned on or off with the following directives:</p>

<ul>
<li><code>leftPanel:</code> is a boolean directive that is used to turn on the left hand panel.  When turned on, the left hand panel will contain the title page, the document search box, the table of contents, and the ToC footer if each of them are turned on.  If the leftPanel is turned off, then the items that should be included in the leftPanel are placed at the top of the center panel.</li>
</ul>

<aside class="notice">
When the Left Hand Panel is turned off, the Right Hand Panel will also be turned off at the same time and the rightPanel directive will be ignored.
</aside>

<ul>
<li><code>rightPanel:</code> is a boolean directive that is used to turn on the right hand panel.  When turned on, the right hand panel contains tabs for each programming language that has sample code associated with it.  When the right hand panel is turned off, the code samples are inserted in-line in the center panel.</li>
</ul>

<p>The Center Panel is always on and cannot be turned on or off.</p>
<h2 id="title-page-16">Title Page</h2>
<p>There are a number of variables that are used for display in the title page of the document.  The Title Page is displayed at the very top of the document is the text &quot;About this Document&quot; which is a link.  When the link is selected, the Title Page will open up and display information about the document from the variables in the header including:</p>

<ul>
<li><code>titlePage:</code> is a boolean that when set to true will turn on the Title Page feature. </li>
<li><code>title:</code> text string that contains the name of the document.  It is used for both in the Title Page and the &lt;title&gt; tag in the header of the resulting HTML page.</li>
<li><code>version:</code> a text string used to display the current version of the document in both the Title Page and the TOC Footer (if both are turned on).</li>
<li><code>copyright:</code> a text string that contains the copyright statement for the document.  Copyright statements should contain the word &quot;Copyright&quot;, followed by the copyright symbol of &copy;, followed by the years that the work was first created and the year that it was last modified, and finished off with the phrase &quot;All Rights Reserved.&quot;</li>
<li><code>publisher:</code> a text string that contains the name of the document publisher.</li>
<li><code>publisherAddress:</code> a text string that contains the address of the publisher.</li>
<li><code>comments:</code>  a free text string that allows the author to put in information about the document that will help the reader understand the context.</li>
</ul>

<p>In addition to these values that are set for the Title Page, the date that the document was &quot;built&quot; is displayed at the bottom of the &quot;Title Page&quot; as the &quot;Published Date&quot;.</p>
<h2 id="turning-on-language-tabs-17">Turning on Language Tabs</h2>
<p>The <em>languageTab</em> directive is used to create the programming language tabs that make up the right hand panel of a dpSlate document.  The <em>languageTab</em> directive is a list and thus the <em>languageTab</em> statement is followed by one or more lines containing a statement that contains two blank spaces, a dash, the name of the language for use in encoding the document, an option &quot;:&quot;, followed by an optional display name for the language.</p>

<p>The name of the language must be recognized by the system such that the display engine will automatically perform syntax highlighting on the code.  The engine supports lots of different languages but the most common values used are:</p>

<ul>
<li>c++:C++</li>
<li>c#:C#</li>
<li>css:CSS</li>
<li>html:HTML</li>
<li>json:JSON</li>
<li>java:Java</li>
<li>javascript:JavaScript</li>
<li>markdown:GFM</li>
<li>objective-c:Objective-C</li>
<li>perl:Perl</li>
<li>php: PHP</li>
<li>puppet:Puppet</li>
<li>python:Python</li>
<li>ruby:Ruby</li>
<li>shell</li>
<li>xml:XML</li>
<li>yaml:YAML</li>
</ul>

<aside class="notice">
Only list the languages that you want to have as tabs in your document.  Each time you list a language as a _languageTab_, dpSlate will automatically create the language tab regardless if that language is used in the document.
</aside>
<h2 id="the-left-hand-panel-18">The Left Hand Panel</h2>
<p>When turned on, the far left panel of a dpSlate document contains the title page, the document search box, and the Table of Contents.  The title page is generated from the directives already discussed, the ToC is automatically generated from the Headers found in your GFM source document but it is controlled by the values you set for directives in the headers of your documents.</p>
<h3 id="toc-directives-19">ToC Directives</h3>
<p>There are a number of directives for controlling how the Table of Contents is presented.  These are:</p>

<ul>
<li><code>documentSearch:</code> a boolean used to turn the document search feature on and off.</li>
</ul>

<aside class="notice">
Document Search is dpSlate's way of providing a full text index for readers.  When you turn on document search in your document, a search box will appear above the  Table of Contents. When the reader types in text into the search box, the Table of Contents will be removed and text in the document that matches the search term will be highlighted with a yellow background.  A _next_ and _prev_ button will be provided to allow the reader to jump to the next and previous hit on the search term.  Search is turned off when the leftPanel is set to `OFF`.
</aside>

<ul>
<li><code>tocSelectors:</code> this string is a comma list of the document elements that will be selected for inclusion into the table of contents.  If the statement is missing, then the default value is &quot;h1, h2, h3&quot; which means that Headers 1, 2, and 3 will be included into the Table of Contents.  If you were to choose &quot;h2, h3, h4, h5&quot; then the first level headers would be ignored and only the second, third, fourth, and fifth levels will be selected for inclusion into the Table of Contents.</li>
<li><code>tocAccordion:</code> this is an integer value that is used to controlling the hiding (collapsing) of items in the table of contents.  The value is set to how many heading levels should open by default (<em>i.e.</em>, not be collpased).  For example, number 6 will show everything in the Table of Contents since there are only 6 heading levels while the number 0 will hide all of the Table of Content entries until it is time for them to open.  The entries in the Table of Contents that are initially hidden will open when you scroll into those headings and will then close again as you scroll out of them.</li>
</ul>

<aside class="notice">
When the leftPanel is turned off, the `tocAccordion` has no effect.  This is because the Table of Contents will be moved to be above the main body of the document and the accordion nature of the Table of Contents would interfere with the scrolling through the document.
</aside>
<h2 id="default-directives-20">Default Directives</h2>
<p>The YAML directives can be set at a site wide level for all of your documents. Thus, you can avoid typing in the same text for each of the directives for each document.  This feature also allows you to set your site defaults for directives and then change them for all documents quickly.  You do this by modifying the file at <code>\dpSlate\source\_defaults.yml</code>.  This file contains all of the directives that you will see in your document and you can set them globally for your site.  If you later define a directive in a specific document, the document value will overide the default value that you set.</p>
<h1 id="creating-the-body-of-a-dpslate-document-21">Creating the Body of a dpSlate Document</h1><h2 id="creating-headers-22">Creating Headers</h2>
<p>Headers are created by using one or more # characters starting in the first line of text within the GFM document. The sample to the right shows GFM that will result in a level 1, level 2, and level 3 headers.  Only the level 1 and level 2 headers will appear in the Table of Contents.  When you create sample code, it will anchor to a header.</p>

<p>On the right are a list of headers in markdown and below is how they will appear in the document:</p>

<blockquote>
<p>Headings - Only H1 and H2 are shown in the TOC</p>
</blockquote>
<pre class="highlight markdown"><code>
<span class="gh"># H1 Header</span>
<span class="gu">## H2 Header</span>
<span class="gu">### H3 Header</span>
<span class="gu">#### H4 Header</span>
<span class="gu">#### H5 Header</span>
<span class="gu">#### H6 Header</span>

</code></pre>
<h1 id="h1-header-23">H1 Header</h1><h2 id="h2-header-24">H2 Header</h2><h3 id="h3-header-25">H3 Header</h3><h4 id="h4-header-26">H4 Header</h4><h4 id="h5-header-27">H5 Header</h4><h4 id="h6-header-28">H6 Header</h4>
<aside class="notice">
Remember that only level 1, 2, and 3 headers will appear in the Table of Contents by default and that this you can change this using the "toc_selector" directive.
</aside>
<h2 id="creating-a-paragraphs-29">Creating a Paragraphs</h2>
<p>For normal text, just type your paragraph on a single line.</p>

<p>This is some paragraph text. Exciting, no?</p>

<p>Make sure the lines above below your paragraph are empty.</p>
<h2 id="creating-formatted-text-30">Creating Formatted Text</h2>
<blockquote>
<p>Formatting Text in GFM</p>
</blockquote>
<pre class="highlight markdown"><code>    This text is <span class="gs">**bold**</span>, this is <span class="ge">*italic*</span>, and this is an<span class="sb">

    `
    Inline code block in the main section.
    `

    You can also use underscores to create __bold__ or _italic_.

    Finally, you can combine ***bold and italic***.
</span></code></pre>

<p>This text is <strong>bold</strong>, this is <em>italic</em>, and this is an</p>

<p><code>Inline code block in the main section.</code></p>

<p>You can also use underscores to create <strong>bold</strong> or <em>italic</em>.</p>

<p>Finally, you can combine <strong><em>bold and italic</em></strong>.</p>

<aside class="success">
You can use those formatting rules in code annotations, tables, paragraphs, lists, wherever.
</aside>
<h2 id="strikethrough-31">Strikethrough</h2><pre class="highlight markdown"><code>
Strikethrough allows you to show text that is ~~no longer relevant by using strikethrough~~<span class="sb">


</span></code></pre>

<p>You can format text with a strikethrough by enclosing the text in double tildes, <code>~~</code>.  The example to the right becomes:</p>

<p>Strikethrough allows you to show text that is <del>no longer relevant by using strikethrough</del></p>
<h2 id="creating-markdown-links-32">Creating Markdown Links</h2>
<blockquote>
<p>The Three Ways to Create GFM Links</p>
</blockquote>
<pre class="highlight markdown"><code>Here's an inline link to <span class="p">[</span><span class="nv">Google</span><span class="p">](</span><span class="sx">http://www.google.com/</span><span class="p">)</span>.
Here's a reference-style link to <span class="p">[</span><span class="nv">Google</span><span class="p">][</span><span class="ss">1</span><span class="p">]</span>.
Here's a very readable link to <span class="p">[</span><span class="nv">Yahoo!</span><span class="p">][</span><span class="ss">yahoo</span><span class="p">]</span>.

  <span class="p">[</span><span class="ss">1</span><span class="p">]:</span> <span class="sx">http://www.google.com/</span>
  <span class="p">[</span><span class="ss">yahoo</span><span class="p">]:</span> <span class="sx">http://www.yahoo.com/</span>
</code></pre>

<p>There are three ways to write links in GFM. Each is easier to read than the last.  The code to the right will generate the following:</p>

<p>Here&#39;s an inline link to <a href="http://www.google.com/">Google</a>.
Here&#39;s a reference-style link to <a href="http://www.google.com/">Google</a>.
Here&#39;s a very readable link to <a href="http://www.yahoo.com/">Yahoo!</a>.</p>

<p>The link definitions can appear anywhere in the document -- before or after the place where you use them. The link definition names <a href="http://www.google.com/">1</a> and <a href="http://www.yahoo.com/">yahoo</a> can be any unique string, and are case-insensitive; <a href="http://www.yahoo.com/">yahoo</a> is the same as <a href="http://www.yahoo.com/">YAHOO</a>.</p>
<h2 id="using-html-standard-links-33">Using HTML Standard Links</h2>
<blockquote>
<p>Using HTML Links in GRM</p>
</blockquote>
<pre class="highlight html"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://www.developerprogram.com"</span> <span class="na">title=</span><span class="s">"DP.com"</span><span class="nt">&gt;</span>DeveloperProgram.com Web Site<span class="nt">&lt;/a&gt;</span>
</code></pre>

<p>You can also use standard HTML hyperlink syntax.  The HTML example to the right produces the text below:</p>

<p><a href="http://www.developerprogram.com" title="DP.com">DeveloperProgram.com Web Site</a></p>
<h2 id="inserting-an-image-34">Inserting an Image</h2>
<blockquote>
<p>GFM for Inserting an Image Stored Locally</p>
</blockquote>
<pre class="highlight markdown"><code><span class="p">![</span><span class="nv">DP Logo</span><span class="p">](</span><span class="sx">/dpSlateStatic/images/logo.png</span><span class="p">)</span>.
</code></pre>

<p><img alt="DP Logo" src="/dpSlateStatic/images/logo.png" />.</p>

<p>The Markdown to the right shows how an image can be inserted, in this case, it is the DP Logo that is right above this.  The text inside the square brackets, <code>[DP Logo]</code> will become the alt text for the image in the HTML <code>alt=</code> parameter.</p>

<aside class="success">
Images essentially look just like a link except that they start with a '!' .
</aside>

<aside class="notice">
Notice that this image is coming from the local image folder.  We recommend that you place your images inside the image folder within your source directory.
</aside>
<h2 id="inserting-horizontal-rules-35">Inserting Horizontal Rules</h2>
<p>Sometimes you just need a Horizontal Rule (line) to convey something.  GFM does this with either three or more consecutive Hyphens <code>-</code>, Asterisks <code>*</code>, or Underscores <code>_</code>.</p>
<pre class="highlight markdown"><code>Three or more...
<span class="p">
---
</span>
Hyphens
<span class="p">
***
</span>
Asterisks

<span class="ge">__</span>_

Underscores
</code></pre>

<p>Three or more...</p>

<hr>

<p>Hyphens</p>

<hr>

<p>Asterisks</p>

<hr>

<p>Underscores</p>
<h2 id="using-html-in-markdown-36">Using HTML in Markdown</h2><pre class="highlight markdown"><code><span class="nt">&lt;dl&gt;</span>
  <span class="nt">&lt;dt&gt;</span>Definition list<span class="nt">&lt;/dt&gt;</span>
  <span class="nt">&lt;dd&gt;</span>Is something people use sometimes.<span class="nt">&lt;/dd&gt;</span>

  <span class="nt">&lt;dt&gt;</span>Markdown in HTML<span class="nt">&lt;/dt&gt;</span>
  <span class="nt">&lt;dd&gt;</span>Does <span class="ge">*not*</span> work <span class="gs">**very**</span> well. Use HTML <span class="nt">&lt;em&gt;</span>tags<span class="nt">&lt;/em&gt;</span>.<span class="nt">&lt;/dd&gt;</span>
<span class="nt">&lt;/dl&gt;</span>
</code></pre>

<p>You can also use raw HTML in your Markdown, and it&#39;ll mostly work pretty well.</p>

<dl>
  <dt>Definition list</dt>
  <dd>Is something people use sometimes.</dd>

  <dt>Markdown in HTML</dt>
  <dd>Does *not* work **very** well. Use HTML <em>tags</em>.</dd>
</dl>

<aside class="warning">
Just because you can, doesn't mean that you should.  One of the features of Markdown is that you don't have to worry about the formatting details of HTML.  Also, it provides
a separation of content and format which you loose when you start placing HTML into your Markdown.
</aside>
<h2 id="creating-a-table-37">Creating a Table</h2>
<blockquote>
<p>GFM for Creating a Table</p>
</blockquote>
<pre class="highlight markdown"><code>Table Header 1 | Table Header 2 | Table Header 3
-------------- | -------------: | :------------:
Row 1 col 1 | Row 1 col 2 | Row 1 col 3
Row 2 col 1 | Row 2 col 2 | Row 2 col 3
</code></pre>

<p>Slate uses PHP Markdown Extra style tables.  The example to the right will create the table below.</p>

<table><thead>
<tr>
<th>Table Header 1</th>
<th style="text-align: right">Table Header 2</th>
<th style="text-align: center">Table Header 3</th>
</tr>
</thead><tbody>
<tr>
<td>Row 1 col 1</td>
<td style="text-align: right">Row 1 col 2</td>
<td style="text-align: center">Row 1 col 3</td>
</tr>
<tr>
<td>Row 2 col 1</td>
<td style="text-align: right">Row 2 col 2</td>
<td style="text-align: center">Row 2 col 3</td>
</tr>
</tbody></table>

<p>Notice the colons in the line underneath the header line.  These are used align that columns of the table. A no colon or only a colon to the left will cause the column to align to the left.  A colon to the right will cause the column to align right.  And a colon to the left and the right will cause the column to center.</p>

<aside class="notice"> Note that the pipes do not need to line up with each other on each line.</aside>

<aside class="success"> If you don't like that syntax, feel free to use normal html \<table\>`s directly in your markdown.</aside>
<h2 id="creating-numbered-lists-38">Creating Numbered Lists</h2>
<blockquote>
<p>GFM for Numbered Lists</p>
</blockquote>
<pre class="highlight markdown"><code><span class="p">1.</span> This
<span class="p">2.</span> Is
<span class="p">  3.</span> Nested
<span class="p">  6.</span> Number
<span class="p">  1.</span> List
<span class="p">3.</span> An
<span class="p">8.</span> Ordered
<span class="p">9.</span> List
</code></pre>

<p>Numbered lists are created using the GFM markdown code to the right.  You can create nested lists, but the bullets are indented by two spaces.  The sample code to the right will create the list below:</p>

<ol>
<li>This</li>
<li>Is

<ol>
<li>Nested</li>
<li>Number</li>
<li>List</li>
</ol></li>
<li>An</li>
<li>Ordered</li>
<li>List</li>
</ol>

<aside class="notice"> Notice that the order of the numbers do not make a difference.  It is just that a number is used that makes an ordered list. </aside>

<aside class="notice"> Note that by indenting by two characters, you are creating an indented list and the numbering restarts and when you go back, the numbering resumes.</aside>
<h2 id="creating-bulleted-lists-39">Creating Bulleted Lists</h2>
<blockquote>
<p>GFM for created bullet lists</p>
</blockquote>
<pre class="highlight markdown"><code><span class="p">-</span> This
<span class="p">+</span> Is
<span class="p">  *</span> nested
<span class="p">  -</span> bullet
<span class="p">*</span> A
<span class="p">*</span> Bullet
<span class="p">*</span> List
</code></pre>

<p>Numbered lists are created using the GFM markdown code to the right.  you can create nested lists, but the bullets are indented by two spaces.  The sample code
to the right will create the list below:</p>

<ul>
<li>This</li>
<li>Is</li>
<li>A

<ul>
<li>nested</li>
<li>bullet</li>
</ul></li>
<li>Bullet</li>
<li>List</li>
</ul>

<aside class="notice"> Notice that bullet lists can be created using a -, a +, or an \*. </aside>

<aside class="notice"> Note that by indenting by two characters, you are creating an indented list.</aside>
<h2 id="creating-special-notes-and-warnings-40">Creating Special Notes and Warnings</h2>
<blockquote>
<p>Sample for creating Notes and Warnings</p>
</blockquote>
<pre class="highlight markdown"><code>
<span class="nt">&lt;aside</span> <span class="na">class=</span><span class="s">"notice"</span><span class="nt">&gt;</span> This is a sample note. <span class="nt">&lt;/aside&gt;</span>

<span class="nt">&lt;aside</span> <span class="na">class=</span><span class="s">"warning"</span><span class="nt">&gt;</span> This is a sample warning.<span class="nt">&lt;/aside&gt;</span>

<span class="nt">&lt;aside</span> <span class="na">class=</span><span class="s">"success"</span><span class="nt">&gt;</span> This is a sample hint.<span class="nt">&lt;/aside&gt;</span>

</code></pre>

<p>You can add warnings and notes with just a little HTML embedded in your markdown document.  To the right, are three different examples of highlights using html.  Below you will see how each of the three examples will manifest themselves in the final document.</p>

<aside class="notice"> This is a sample note. </aside>
    

<aside class="warning"> This is a sample warning.</aside>

<aside class="success"> This is a sample hint.</aside>

<p>Use the <code>class=&quot;notice&quot;</code> for blue notes, <code>class=&quot;warning&quot;</code> for red warnings, and <code>class=&quot;success&quot;</code> for green notes.</p>
<h1 id="sample-code-41">Sample Code</h1>
<blockquote>
<p>Sample GFM to Denote Sample Code</p>
</blockquote>
<pre class="highlight markdown"><code>    <span class="sb">```</span>python
    // this is some python code
    <span class="p">```</span>
    <span class="p">```</span>ruby
    # this is some ruby code
    <span class="sb">```</span>
</code></pre>

<p>Code samples are an important way of communicating how to use an API.  dpSlate does an excellent job of handling code samples in multiple languages simultaneously through the use of the tabbed sample code panel on the right hand side.</p>
<h2 id="inserting-large-code-samples-42">Inserting Large Code Samples</h2>
<blockquote>
<p>Large Python Program</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">bs4.dammit</span> <span class="kn">import</span> <span class="n">EntitySubstitution</span>
<span class="k">try</span><span class="p">:</span>
    <span class="nb">next</span>
<span class="k">except</span> <span class="nb">NameError</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">bs4._compatibility</span> <span class="kn">import</span> <span class="n">next_function</span> <span class="k">as</span> <span class="nb">next</span>


<span class="n">DEFAULT_OUTPUT_ENCODING</span> <span class="o">=</span> <span class="s">"utf-8"</span>
<span class="n">PY3K</span> <span class="o">=</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">whitespace_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">"</span><span class="err">\</span><span class="s">s+"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_alias</span><span class="p">(</span><span class="n">attr</span><span class="p">):</span>
    <span class="s">"""Alias one attribute name to another for backward compatibility"""</span>
    <span class="k">def</span> <span class="nf">_get_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>

    <span class="n">alias</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">_get_alias</span><span class="p">,</span> <span class="n">_set_alias</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alias</span>


<span class="k">class</span> <span class="nc">NamespacedAttribute</span><span class="p">(</span><span class="nb">unicode</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="nb">unicode</span><span class="o">.</span><span class="n">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="nb">unicode</span><span class="o">.</span><span class="n">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="s">":"</span> <span class="o">+</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">namespace</span> <span class="o">=</span> <span class="n">namespace</span>
        <span class="k">return</span> <span class="n">obj</span>


<span class="k">class</span> <span class="nc">PageElement</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="s">"""Contains the navigational information for some part of the page
    (either a tag or a piece of text)"""</span>

    <span class="c"># There are five possible values for the "formatter" argument passed in</span>
    <span class="c"># to methods like encode() and prettify():</span>
    <span class="c">#</span>
    <span class="c"># "html" - All Unicode characters with corresponding HTML entities</span>
    <span class="c">#   are converted to those entities on output.</span>
    <span class="c"># "minimal" - Bare ampersands and angle brackets are converted to</span>
    <span class="c">#   XML entities: &amp;amp; &amp;lt; &amp;gt;</span>
    <span class="c"># None - The null formatter. Unicode characters are never</span>
    <span class="c">#   converted to entities.  This is not recommended, but it's</span>
    <span class="c">#   faster than "minimal".</span>
    <span class="c"># A function - This function will be called on every string that</span>
    <span class="c">#  needs to undergo entity substition</span>
    <span class="n">FORMATTERS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"html"</span> <span class="p">:</span> <span class="n">EntitySubstitution</span><span class="o">.</span><span class="n">substitute_html</span><span class="p">,</span>
        <span class="s">"minimal"</span> <span class="p">:</span> <span class="n">EntitySubstitution</span><span class="o">.</span><span class="n">substitute_xml</span><span class="p">,</span>
        <span class="bp">None</span> <span class="p">:</span> <span class="bp">None</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">previous_element</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s">"""Sets up the initial relations between this element and
        other elements."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_element</span> <span class="o">=</span> <span class="n">previous_element</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_element</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_sibling</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_sibling</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">previous_sibling</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">previous_sibling</span><span class="o">.</span><span class="n">next_sibling</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="n">nextSibling</span> <span class="o">=</span> <span class="n">_alias</span><span class="p">(</span><span class="s">"next_sibling"</span><span class="p">)</span>  <span class="c"># BS3</span>
    <span class="n">previousSibling</span> <span class="o">=</span> <span class="n">_alias</span><span class="p">(</span><span class="s">"previous_sibling"</span><span class="p">)</span>  <span class="c"># BS3</span>

    <span class="k">def</span> <span class="nf">replace_with</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">replace_with</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">replace_with</span> <span class="ow">is</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">replace_with</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Cannot replace a Tag with its parent."</span><span class="p">)</span>
        <span class="n">old_parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span>
        <span class="n">my_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">replace_with</span><span class="p">,</span> <span class="s">'parent'</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">replace_with</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">):</span>
            <span class="c"># We're replacing this element with one of its siblings.</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">replace_with</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">my_index</span><span class="p">:</span>
                <span class="c"># Furthermore, it comes before this element. That</span>
                <span class="c"># means that when we extract it, the index of this</span>
                <span class="c"># element will change.</span>
                <span class="n">my_index</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
        <span class="n">old_parent</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">my_index</span><span class="p">,</span> <span class="n">replace_with</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
    <span class="n">replaceWith</span> <span class="o">=</span> <span class="n">replace_with</span>  <span class="c"># BS3</span>

    <span class="k">def</span> <span class="nf">replace_with_children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">my_parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span>
        <span class="n">my_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">[:]):</span>
            <span class="n">my_parent</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">my_index</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
    <span class="n">replaceWithChildren</span> <span class="o">=</span> <span class="n">replace_with_children</span>  <span class="c"># BS3</span>

    <span class="k">def</span> <span class="nf">extract</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Destructively rips this element out of the tree."""</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="p">)]</span>

        <span class="c">#Find the two elements that would be next to each other if</span>
        <span class="c">#this element (and any children) hadn't been parsed. Connect</span>
        <span class="c">#the two.</span>
        <span class="n">last_child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_descendant</span><span class="p">()</span>
        <span class="n">next_element</span> <span class="o">=</span> <span class="n">last_child</span><span class="o">.</span><span class="n">next_element</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_element</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">previous_element</span><span class="o">.</span><span class="n">next_element</span> <span class="o">=</span> <span class="n">next_element</span>
        <span class="k">if</span> <span class="n">next_element</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">next_element</span><span class="o">.</span><span class="n">previous_element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_element</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_element</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">last_child</span><span class="o">.</span><span class="n">next_element</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">previous_sibling</span><span class="o">.</span><span class="n">next_sibling</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_sibling</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">previous_sibling</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_sibling</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_sibling</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_sibling</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">_last_descendant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"Finds the last element beneath this object to be parsed."</span>
        <span class="n">last_child</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">while</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">last_child</span><span class="p">,</span> <span class="s">'contents'</span><span class="p">)</span> <span class="ow">and</span> <span class="n">last_child</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="n">last_child</span> <span class="o">=</span> <span class="n">last_child</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">last_child</span>
    <span class="c"># BS3: Not part of the API!</span>
    <span class="n">_lastRecursiveChild</span> <span class="o">=</span> <span class="n">_last_descendant</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">new_child</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">new_child</span> <span class="ow">is</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Cannot insert a tag into itself."</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">new_child</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new_child</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">)):</span>
            <span class="n">new_child</span> <span class="o">=</span> <span class="n">NavigableString</span><span class="p">(</span><span class="n">new_child</span><span class="p">)</span>

        <span class="n">position</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">new_child</span><span class="p">,</span> <span class="s">'parent'</span><span class="p">)</span> <span class="ow">and</span> <span class="n">new_child</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c"># We're 'inserting' an element that's already one</span>
            <span class="c"># of this object's children.</span>
            <span class="k">if</span> <span class="n">new_child</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="bp">self</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">new_child</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">position</span><span class="p">:</span>
                    <span class="c"># Furthermore we're moving it further down the</span>
                    <span class="c"># list of this object's children. That means that</span>
                    <span class="c"># when we extract this element, our target index</span>
                    <span class="c"># will jump down one.</span>
                    <span class="n">position</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>

        <span class="n">new_child</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">previous_child</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">previous_sibling</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">previous_element</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">previous_child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="n">position</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">previous_sibling</span> <span class="o">=</span> <span class="n">previous_child</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">previous_sibling</span><span class="o">.</span><span class="n">next_sibling</span> <span class="o">=</span> <span class="n">new_child</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">previous_element</span> <span class="o">=</span> <span class="n">previous_child</span><span class="o">.</span><span class="n">_last_descendant</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">new_child</span><span class="o">.</span><span class="n">previous_element</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">previous_element</span><span class="o">.</span><span class="n">next_element</span> <span class="o">=</span> <span class="n">new_child</span>

        <span class="n">new_childs_last_element</span> <span class="o">=</span> <span class="n">new_child</span><span class="o">.</span><span class="n">_last_descendant</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">position</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">):</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">next_sibling</span> <span class="o">=</span> <span class="bp">None</span>

            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
            <span class="n">parents_next_sibling</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">while</span> <span class="n">parents_next_sibling</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">parents_next_sibling</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">next_sibling</span>
                <span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">parent</span>
                <span class="k">if</span> <span class="n">parents_next_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="c"># We found the element that comes next in the document.</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">parents_next_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">new_childs_last_element</span><span class="o">.</span><span class="n">next_element</span> <span class="o">=</span> <span class="n">parents_next_sibling</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># The last element of this tag is the last element in</span>
                <span class="c"># the document.</span>
                <span class="n">new_childs_last_element</span><span class="o">.</span><span class="n">next_element</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">next_child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="n">position</span><span class="p">]</span>
            <span class="n">new_child</span><span class="o">.</span><span class="n">next_sibling</span> <span class="o">=</span> <span class="n">next_child</span>
            <span class="k">if</span> <span class="n">new_child</span><span class="o">.</span><span class="n">next_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">new_child</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">previous_sibling</span> <span class="o">=</span> <span class="n">new_child</span>
            <span class="n">new_childs_last_element</span><span class="o">.</span><span class="n">next_element</span> <span class="o">=</span> <span class="n">next_child</span>

        <span class="k">if</span> <span class="n">new_childs_last_element</span><span class="o">.</span><span class="n">next_element</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">new_childs_last_element</span><span class="o">.</span><span class="n">next_element</span><span class="o">.</span><span class="n">previous_element</span> <span class="o">=</span> <span class="n">new_childs_last_element</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">new_child</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
        <span class="s">"""Appends the given tag to the contents of this tag."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">),</span> <span class="n">tag</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert_before</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">predecessor</span><span class="p">):</span>
        <span class="s">"""Makes the given element the immediate predecessor of this one.

        The two elements will have the same parent, and the given element
        will be immediately before this one.
        """</span>
        <span class="k">if</span> <span class="bp">self</span> <span class="ow">is</span> <span class="n">predecessor</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Can't insert an element before itself."</span><span class="p">)</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span>
                <span class="s">"Element has no parent, so 'before' has no meaning."</span><span class="p">)</span>
        <span class="c"># Extract first so that the index won't be screwed up if they</span>
        <span class="c"># are siblings.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">predecessor</span><span class="p">,</span> <span class="n">PageElement</span><span class="p">):</span>
            <span class="n">predecessor</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">predecessor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert_after</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">successor</span><span class="p">):</span>
        <span class="s">"""Makes the given element the immediate successor of this one.

        The two elements will have the same parent, and the given element
        will be immediately after this one.
        """</span>
        <span class="k">if</span> <span class="bp">self</span> <span class="ow">is</span> <span class="n">successor</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Can't insert an element after itself."</span><span class="p">)</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span>
                <span class="s">"Element has no parent, so 'after' has no meaning."</span><span class="p">)</span>
        <span class="c"># Extract first so that the index won't be screwed up if they</span>
        <span class="c"># are siblings.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">successor</span><span class="p">,</span> <span class="n">PageElement</span><span class="p">):</span>
            <span class="n">successor</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">successor</span><span class="p">)</span>


</code></pre>

<p>Sometimes you will need to insert a very large block of sample code that might be too wide or extremely deep.  dpSlate manages this by automatically creating vertical and horizontal scroll bars such that the sample code is preserved without taking up too much space.  The example to the right is an extremely large python program pulled from the Internet.  There is no wrapping of text, instead, your readers need to use horizontal scrolling to see the full code sample.  Also, it is very long, but a maximum height of 50 cm has been set for the display area.  If your sample code exceeds this, then dpSlate will also provide vertical scrolling such that the space is better managed. </p>
<h2 id="inserting-a-sample-code-into-a-particular-tab-43">Inserting a Sample Code into a Particular Tab</h2>
<p>You denote a code samples by using three left-single-quote marks followed by the name of the language.  The name of the language is used to place the code sample into the proper tab. Each code samples will appear in the dark area to the right of the main text. Code samples need to appear right under the Level 1 or Level 2 headers in your markdown file to allow them to be anchored properly.</p>

<p>The &quot;language tabs&quot; are the tabs that appear in the upper right of dpSlate Documents. Users browsing the docs use them to select their programming language of choice.</p>

<p>In the sample GFM code to the right, the Ruby code will appear in the Ruby tab, while the Python code will appear in the Python tab. Because the dpSlate engine understands the syntax of most computer programming languages, the sample code will have its language syntax highlighted automatically in a way that would make sense to the developer.</p>

<p>But just because a language is used as sample code within a dpSlate document it does not mean that the tab will appear.  You tell the system which Language tabs you want to display by editing the <code>language-tabs</code> list at the top of your GFM source document.</p>

<aside class="success"> Sometimes it is useful to share code between multiple tabs, you can do this by placing tagging the sample code using a language that is not used as a tab name.  For example if you tag sample code as `all` and `all` is not listed in the `language-tabs` then that sample code will appear in all of the tabs.</aside>
<h2 id="creating-code-sample-annotations-44">Creating Code Sample Annotations</h2>
<blockquote>
<p>Code Sample Annotations</p>
</blockquote>
<pre class="highlight markdown"><code><span class="gt">&gt; This is a Code Annotation!</span>
</code></pre>

<p>It is sometimes useful to highlight or annotate a part of the sample code.  This is done with code annotations.  By placing a &gt; as the first character in your GFM line of text, you will create a code annotation that will appear in the area to the right, next to the code samples.</p>

<aside class="warning"> Make sure that you have a blank line after your Code Annotation.  If you do not, the annotation will continue until there is a blank line.
</aside>
<h1 id="fun-with-the-right-hand-panel-45">Fun with the Right Hand Panel</h1>
<p>When you use the chevron <code>&gt;</code> symbol, it takes the entire line and places it into the pannel to the right. Since it does not have a language, it will appear on all of the tabs to the right.  Additionally, because it is not &quot;code&quot; it is not treated as pre-formatted text.  As a result of these factors, the annotation feature can be very useful for placing Markdown or even HTML into the right hand panel.</p>
<h2 id="a-markdown-table-46">A Markdown Table</h2>
<blockquote>
<p>The following markdown code:</p>
</blockquote>
<pre class="highlight markdown"><code><span class="gt">
&gt; Table Header 1 | Table Header 2 | Table Header 3</span>
<span class="gt">&gt; -------------- | -------------: | :------------:</span>
<span class="gt">&gt; Row 1 col 1 | Row 1 col 2 | Row 1 col 3</span>
<span class="gt">&gt; Row 2 col 1 | Row 2 col 2 | Row 2 col 3 </span>

</code></pre>

<blockquote>
<p>will result in the table in the right hand panel:</p>

<table><thead>
<tr>
<th>Table Header 1</th>
<th style="text-align: right">Table Header 2</th>
<th style="text-align: center">Table Header 3</th>
</tr>
</thead><tbody>
<tr>
<td>Row 1 col 1</td>
<td style="text-align: right">Row 1 col 2</td>
<td style="text-align: center">Row 1 col 3</td>
</tr>
<tr>
<td>Row 2 col 1</td>
<td style="text-align: right">Row 2 col 2</td>
<td style="text-align: center">Row 2 col 3</td>
</tr>
</tbody></table>
</blockquote>

<p>For example, I can use the <code>&gt;</code> to place a table into the right hand panel.</p>
<h2 id="an-image-47">An Image</h2>
<blockquote>
<p>The following markdown code:</p>
</blockquote>
<pre class="highlight markdown"><code><span class="gt">
&gt; ![DP Logo](/dpSlateStatic/images/logo.png).</span>

</code></pre>

<blockquote>
<p>will result in the image placed into the right hand panel:</p>

<p><img alt="DP Logo" src="/dpSlateStatic/images/logo.png" /></p>
</blockquote>

<p>Or, I can use the <code>&gt;</code> to place an image into the right hand panel.  I can even use the <code>&gt;</code> to place HTML code such as a YouTube video or any other content.</p>
<h1 id="creating-your-dpslate-document-48">Creating your dpSlate Document</h1><h2 id="previewing-your-docs-49">Previewing your Docs</h2>
<blockquote>
<p>Command to Start Your Preview Server</p>
</blockquote>
<pre class="highlight markdown"><code>bundle exec middleman server

</code></pre>

<blockquote>
<p>Output:</p>
</blockquote>
<pre class="highlight markdown"><code>  == The Middleman is loading
  == The Middleman is standing watch at http://0.0.0.0:4567
  == Inspect your site configuration at http://0.0.0.0:4567/__middleman/
</code></pre>
<h2 id="building-your-docs-if-you-forked-and-cloned-50">Building Your Docs If You Forked and Cloned</h2>
<blockquote>
<p>Command to create your HTML Files</p>
</blockquote>
<pre class="highlight markdown"><code>rake build
</code></pre>

<blockquote>
<p>Output:</p>
</blockquote>
<pre class="highlight markdown"><code>cd dpSlate
bundle exec middleman build --clean
      create  build/images/logo.png
      create  build/images/Untitled.png
      create  build/fonts/icomoon.svg
      create  build/fonts/icomoon.woff
      create  build/fonts/icomoon.ttf
      create  build/fonts/icomoon.eot
      create  build/javascripts/lang_selector.js
      create  build/javascripts/all.js
      create  build/javascripts/jquery_ui.js
      create  build/javascripts/jquery.tocify.js
      create  build/stylesheets/variables.css
      create  build/stylesheets/icon-font.css
      create  build/stylesheets/normalize.css
      create  build/stylesheets/syntax.css
      create  build/stylesheets/screen.css
      create  build/stylesheets/print.css
      create  build/index.html
cd -
</code></pre>

<p>The <code>rake build</code> command tells Middleman to build your website to the <code>build</code> directory of your project in a way that is Github compatible.  You then need to share those static HTML files with the DevNet team for publishing.  You can do this via Box.net or Dropbox.</p>
<h2 id="building-your-docs-if-you-installed-from-zip-51">Building Your Docs If You Installed From Zip</h2>
<blockquote>
<p>Command to create your HTML Files</p>
</blockquote>
<pre class="highlight markdown"><code>bundle exec middleman build --clean

</code></pre>

<blockquote>
<p>Output:</p>
</blockquote>
<pre class="highlight markdown"><code>      create  build/images/logo.png
      create  build/images/Untitled.png
      create  build/fonts/icomoon.svg
      create  build/fonts/icomoon.woff
      create  build/fonts/icomoon.ttf
      create  build/fonts/icomoon.eot
      create  build/javascripts/lang_selector.js
      create  build/javascripts/all.js
      create  build/javascripts/jquery_ui.js
      create  build/javascripts/jquery.tocify.js
      create  build/stylesheets/variables.css
      create  build/stylesheets/icon-font.css
      create  build/stylesheets/normalize.css
      create  build/stylesheets/syntax.css
      create  build/stylesheets/screen.css
      create  build/stylesheets/print.css
      create  build/index.html
</code></pre>

<p>The Middleman <em>build</em> option builds your document to the <code>build</code> directory of your project.</p>
<h1 id="includes-or-partials-52">Includes or Partials</h1>
<blockquote>
</blockquote>
<pre class="highlight erb"><code>
---

title: "Document Built from Partials"

version: "V4.0" 

copyright: "Copyright <span class="ni">&amp;copy;</span> 2013-2016"

publisher: "Paul Nerger"

publisher_address: "San Francisco, CA 94110"

comments: "dpSlate is Licensed under the Apache License, Version 2.0 (the License); you may not use this file except in compliance with the License. You may obtain a copy of the License on the site http://www.apache.org at /licenses/LICENSE-2.0.  Unless required by applicable law or agreed to in writing, the dpSlate software distributed under the License is distributed on an AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."

titlePage: ON

tableOfContents: ON

tocAccordian: ON

rightPanel: ON

leftPanel: ON

documentSearch: ON

language_tabs:
  - shell: Sample
  - python: Python
  - ruby: Ruby

toc_selectors: "h1,h2,h3"

toc_footers:

---

<span class="cp">&lt;%=</span> <span class="n">partial</span> <span class="s2">"site/test/includes/intro.md"</span> <span class="cp">%&gt;</span>

# Body of the Document

This contains the text that is the body of the dpSlate document.  I can put whatever Markdown that I want in the body.

<span class="cp">&lt;%=</span> <span class="n">partial</span> <span class="s2">"site/test/includes/close.md"</span> <span class="cp">%&gt;</span>

</code></pre>

<p>Often, users want to be able to share a common set of markdown text between multiple documents.  Unfortunately, standard GFM does not have a facility to do that.  Fortunately, dpSlate does.</p>

<p>The way that I recommend using includes is using the <em>Partial</em> feature of Middleman - the static document generator behind dpSlate.  Middleman is a ruby static site generator that knows how to transform different document types into HTML including Markdown.  One of the supported document types is the .erb file which is the Embedded RuBy file.  Typically these are files with the .html.erb extension which says that it is an HTML file with embedded ruby tags, but we&#39;re interested in the .md.erb file type which is a Markdown File with embedded ruby tags.</p>

<p>When you have an .md.erb file, you can embed Ruby Logic into the file and Middleman will process the logic building a temporary Markdown file which is then processed into an HTML file using the dpSlate logic.  Thus, it is possible to build an markdown file that includes other Markdown files using the erb tag called the partial.</p>

<p>For example, let&#39;s say that we have a document in the folder <code>source/site/example/index.md.erg</code> and we want to build this from two included Markdown files that are <code>source/site/example/includes/_intro.md</code> and <code>source/site/example/includes/_close.md&#39;.  We can use these includes using the code to the right in our</code>index.md.erb` file.   </p>

<aside class="notice"> You should note, that the file name starts with a `_` (underscore) character while the reference to it in the partial tag does not.  With dpSlate, any file that begins with an `_` (underscore) will not be processed and thus it is used for partials and other files that are included into your document. </aside>
<h1 id="elements-of-style-for-api-documentation-53">Elements of Style for API Documentation</h1>
<p>Now that you understand the mechanics of dpSlate.  Now we need to get into the specifics of how to use these tools to present a common, consistent, and great developer experience on DevNet for your API.</p>
<h2 id="the-basics-54">The Basics</h2>
<p>Before we get into the specifics, let&#39;s deal with the high-level guidelines or ground rules:</p>

<ul>
<li><em>Keep it Simple</em> - how you use English to communicate to developers is important.  One of the ways you can simplify things is to use person pronouns (e.g., you, we, us) as this approach will naturally simplify your English.</li>
<li><em>Tell Them How Not What</em> - It&#39;s possible to simply list all of your API calls, but this does not help the developer.  Instead, group your API end points into what they are used for.  For example, have headings that say &quot;Starting a New Discovery Job&quot; rather than &quot;The Post Discovery Method&quot;.</li>
<li><em>Use Examples</em> - this format is designed around code samples; use it!  Try to create an example for each of your API calls.</li>
<li><em>Test the Examples</em> - when you use an example, make sure that it works.</li>
<li><em>Use Graphics</em> - a picture is worth a thousand words.  The right graphic in the right place helps you to keep things simple.</li>
</ul>
<h2 id="language-libraries-55">Language Libraries</h2>
<p>REST (or RESTful) APIs are becoming the standard.  Developers like using REST APIs because they are simple and universal.  Because REST APIs use HTTP protocol along with JSON or XML, it is easy to call a REST API from pretty much any programming language.  As a result, there is a natural tendency for the API engineer to think that language libraries (wrappers that make the REST call in the programming language of choice) is not needed. This is a fallacy.</p>

<p>A Programmer can call REST in a language like Python, Java, or C, with four to five lines of code.  When faced with this, the Programmer will typically write their own library of wrappers (code that encapsulates each REST end point) to make programming more module and cleaner.  Thus, if you want your API to be simple to use, you should have the wrappers for popular libraries built.  Next, you should use the language tabs of dpSlate to provide the syntax for each of the programming languages that you will be supporting.</p>
<h1 id="release-notes-dpslate-v4-1-56">Release Notes - dpSlate V4.1</h1>
<p>dpSlate v4.1 adds new features that allows improved integration into dpEngine, this was the major goal of v4.1.  To achieve this goal, we made it such that dpSlate is:</p>

<ul>
<li>based upon the Bootstrap CSS framework from Twitter</li>
<li>builds directly into the /site directory which is where dpEngine holds its content</li>
<li>enabled the building of .gsp pages instead of .html pages when dpSlate is running on a dpEngine server.</li>
<li>enable the ability to create a default <code>defaults.yml</code> file in the <code>/source</code> directory which will allow you to set your document directives globally for the site.  Thus, you will no longer need to bother with YAML directives which do not change from page to page; you just set it in the new defaults.yml.  As part of this we changed the name of the directives to make them more consistent. </li>
</ul>

<p>To enable this to work, we needed to change the way that dpSlate works and as such there will be some conversion that you will need to make some changes to migrate your documents to dpSlate V4.1.</p>
<h2 id="migrating-to-dpslate-v4-1-57">Migrating to dpSlate V4.1</h2><h3 id="the-build-directory-has-moved-58">The build directory has moved.</h3>
<p>Previously, the <code>build</code> directory was located in your git repository.  The new location of the build directory is not in your git repository but will be parallel to your git root directory and will be called <code>/site</code></p>
<h3 id="the-code-images-code-directory-has-moved-59">The <code>\images</code> directory has moved.</h3>
<blockquote>
<p>dpSlate V4.0</p>
</blockquote>
<pre class="highlight markdown"><code>
<span class="p">[</span><span class="nv">/images/myimage.png</span><span class="p">]</span>

</code></pre>

<blockquote>
<p>dpSlate V4.1</p>
</blockquote>
<pre class="highlight markdown"><code>
<span class="p">[</span><span class="nv">/dpSlateStatic/images/myimage.png</span><span class="p">]</span>

</code></pre>

<p>Previously, your images were located in a root <code>/images</code> directory.  To ensure that your dpSlate images do not conflict with other images being used on dpSlate, images are now located in the file <code>/dpSlateStatic/images</code>.  Thus, you will need to add the <code>/dpSlateStatic</code> to the front of your image references.  For example, if you have an imag</p>
<h3 id="updated-yaml-directives-60">Updated YAML Directives</h3>
<p>In V4.0, some of the YAML directives were in <em>camel case</em> format while others were not.  We&#39;ve decided to make these consistent by placing them all in <em>camel case</em> format.  Below are the old directives and new:</p>

<table><thead>
<tr>
<th>V4.0</th>
<th>New V4.1</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td><em>same</em></td>
<td style="text-align: left">the title of your document</td>
</tr>
<tr>
<td>copyright</td>
<td><em>same</em></td>
<td style="text-align: left">the copyright statement for your document</td>
</tr>
<tr>
<td>publisher</td>
<td><em>same</em></td>
<td style="text-align: left">your company name</td>
</tr>
<tr>
<td>publisher_address</td>
<td>publisherAddress</td>
<td style="text-align: left">the main address for your company</td>
</tr>
<tr>
<td>commments</td>
<td><em>same</em></td>
<td style="text-align: left">any additional information that you want to put on the title page</td>
</tr>
<tr>
<td>titlePage</td>
<td><em>same</em></td>
<td style="text-align: left">Boolean to turn titlePage ON or OFF</td>
</tr>
<tr>
<td>tableOfContents</td>
<td><em>same</em></td>
<td style="text-align: left">Boolean to turn table of contents ON or OFF</td>
</tr>
<tr>
<td>tocAccordian</td>
<td>tocAccordion</td>
<td style="text-align: left">Has been changed from a Boolean to an Integer.  It is used turn the expanding ToC feature ON or OFF.  The new integer value is used to control how many levels are open by default.  Thus, the old ON value can be achieved with a 6 and the old OFF value can be achieved with a 1.</td>
</tr>
<tr>
<td>rightPanel</td>
<td><em>same</em></td>
<td style="text-align: left">Boolean to turn the right hand panel ON or OFF, when OFF code samples are moved in-line</td>
</tr>
<tr>
<td>leftPanel</td>
<td><em>same</em></td>
<td style="text-align: left">Boolean to turn the left hand panel off, when turned off Title Page and ToC are moved to the top</td>
</tr>
<tr>
<td>documentSearch</td>
<td><em>same</em></td>
<td style="text-align: left">Boolean to turn the document search feature ON or OFF</td>
</tr>
<tr>
<td>language_tabs</td>
<td>languageTabs</td>
<td style="text-align: left">Array to add the language name, and display name for each language tab</td>
</tr>
<tr>
<td>toc_selectors</td>
<td>tocSelectors</td>
<td style="text-align: left">comma list of HTML headings that will be used in the Table of Contents</td>
</tr>
<tr>
<td>toc_footers</td>
<td><em>deprecated</em></td>
<td style="text-align: left">Deprecated.  You should use <em>comments</em> instead</td>
</tr>
</tbody></table>
<h3 id="default-yaml-directives-61">Default YAML Directives</h3>
<p>Make sure that you take advantage of the new default YAML directive capability by setting your default values in the file at <code>/dpSlate/source/_defaults.yml</code>.</p>

            </div>

            <div class="dark-box">
                <div class="lang-selector" id="myLang">
                      <a href="#" data-language-name="shell" class='active' >Sample</a>
                      <a href="#" data-language-name="python"  >Python</a>
                      <a href="#" data-language-name="ruby"  >Ruby</a>
                </div>
            </div>

          </div>

         </div>

        </div>   

      </div>

  </div>   

<!-- Add all of the JavaScript at the end -->      

<script src="/dpSlateStatic/js/jquery.min.js"></script>   
<script src="/dpSlateStatic/js/bootstrap.min.js"></script>    
<script src="/dpSlateStatic/js/energize.js"></script>
<script src="/dpSlateStatic/js/lang.js"></script>
<script src="/dpSlateStatic/js/jquery-scrolltofixed-min.js"></script>  
  <script src="/dpSlateStatic/js/lunr.js"></script>
  <script src="/dpSlateStatic/js/jquery.highlight.js"></script>      
  <script src="/dpSlateStatic/js/search.js"></script>
 
  <script src="/dpSlateStatic/js/tocbot.min.js"></script>
<script src="/dpSlateStatic/js/imagesloaded.min.js"></script>

<!-- Configure the table of contents --> 
      
      
  <script>        
 
  
    tocbot.init({
      tocSelector: '.js-toc',
      contentSelector: '.content',
      headingSelector: 'h1,h2,h3',
      positionFixedSelector: '#toc',
      collapseDepth: 1,
    }); 

  </script>


<!-- Turn on the toggle for the Title Page -->
      
  <script>      
    //add js to do about modal here:

  </script>

<!-- Configure the language tabs -->
      
  <script>
    $(function() {
        setupLanguages(["shell","python","ruby"]);
    }); 

   $('#myLang').scrollToFixed({marginTop: 0,
      preFixed: function() {},
      postFixed: function() {}
    });

  </script>




  
  <!-- Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

    <div class="modal-dialog" role="document">

      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Title Page</h4>
        </div>

        <div class="modal-body about">

            <div class="title-page">
                <h1>dpSlate User's Guide </h1>
                <h2>V4.1</h2>
                <p>Copyright &copy; 2013-2015 Perigee Capital, LLC., Portions Copyright 2008-2013 by Concur Technologies, Inc. All Rights Reserved.</p>
                <p>DeveloperProgram.com</p>
                <p>Perigee Capital LLC., 2300 Greenhill Drive, Suite 400, Round Rock, TX 78664, USA</p>
                <p>dpSlate is Licensed under the Apache License, Version 2.0 (the License); you may not use this file except in compliance with the License. You may obtain a copy of the License on the site http://www.apache.org at /licenses/LICENSE-2.0.  Unless required by applicable law or agreed to in writing, the dpSlate software distributed under the License is distributed on an AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  The Perigee Capital, DevelopProgram.com, DP.com, dpSlate, and the dp.com Logo are trademarks of Perigee Capital, LLC.</p>
                <p>September 23, 2016</p>
            </div>
           
        </div>

        <div class="modal-footer">
        
          <button type="button" class="btn btn-default tocHelp" data-dismiss="modal">Close</button>                          
        </div>

      </div>
    </div>
  </div>

      
</body>
</html>
